import{a as m,c as h,u as f,r as a,j as s}from"./index-deb6e569.js";import{H as g}from"./hyperLink-706002a1.js";import{g as p}from"./APIREQ-7f62bbab.js";function L(){const i=m(),t=window.localStorage.getItem("token");let{form_id:r}=h();const l=f(e=>e.setPage),[n,o]=a.useState([]),[c,d]=a.useState(!1);return a.useEffect(()=>{p({setLoading:d,setAllFormRes:o,globalToken:t,form_id:r})},[t]),a.useEffect(()=>{t||i("/")},[]),a.useEffect(()=>{l("EMAIL")},[]),c?s.jsx(s.Fragment,{children:s.jsx("div",{className:"Loading",children:s.jsx("h1",{children:"Loading..."})})}):s.jsx(s.Fragment,{children:s.jsx("div",{className:"AppListMails",children:n.length!=0?n.map(e=>s.jsxs("div",{className:"AppListMailtabs",children:[s.jsxs("div",{className:"AppListLeftSec",children:[s.jsx("div",{className:"HyperLink",onClick:()=>i(`/individual/${r}`,{state:{personal_email:e.sub.data.formEmail}}),children:s.jsx("img",{src:g})}),s.jsx("h2",{children:e.sub.data.formEmail.length>15?e.sub.data.formEmail.substring(0,15)+"...":e.sub.data.formEmail})]}),s.jsx("div",{className:"AppListRightSec",children:s.jsx("div",{className:"DateBadge",children:s.jsx("p",{children:e.sub.data.creationDate})})})]})):s.jsx(s.Fragment,{children:s.jsx("div",{className:"Loading",children:s.jsx("h1",{children:"Sorry, noone has responded to the form yet!"})})})})})}export{L as default};
