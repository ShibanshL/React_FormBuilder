import{r as e,u as m,a as u,j as s,L as h}from"./index-deb6e569.js";import{H as f}from"./hyperLink-706002a1.js";import{f as x}from"./APIREQ-7f62bbab.js";const g="/React_FormBuilder/assets/Statistics-0c69942e.svg";function D(){const t=window.localStorage.getItem("token"),[r,n]=e.useState([]),l=m(a=>a.setPage),[o,d]=e.useState(!1);let i=u();return e.useEffect(()=>{t||i("/")},[]),e.useEffect(()=>{l("USER")},[]),e.useEffect(()=>{x({setuserData:n,setLoading:d,globalToken:t})},[t]),o?s.jsx(s.Fragment,{children:s.jsx("div",{className:"Loading",children:s.jsx("h1",{children:"Loading..."})})}):s.jsx(s.Fragment,{children:r.length>0?s.jsxs("div",{className:"AppUser",children:[s.jsxs("div",{className:"AppUserTabs",children:[s.jsx("h2",{children:"Responses"}),s.jsxs("label",{children:[r.length," / 4"]})]}),r.map((a,c)=>s.jsxs("div",{className:"AppUserForms",children:[s.jsxs("div",{className:"UserLinks",children:[s.jsx("div",{className:"HyperLink",children:s.jsx(h,{to:`/form/${t}/${a.data.subData.formData.formUID}`,target:"_blank",children:s.jsx("img",{src:f,alt:""})})}),s.jsx("h2",{children:a.data.subData.formQuestion.question.length>100?a.data.subData.formQuestion.question.substring(0,100)+"...":a.data.subData.formQuestion.question})]}),s.jsxs("div",{className:"userData",children:[a.data.subData.response>0?s.jsx("div",{className:"CongratulationBadge",children:s.jsx("p",{children:a.data.subData.response>10?"10+":"+1"})}):null,s.jsx("div",{className:"UserGraphs",onClick:()=>i(`/response/${a.data.subData.formData.formUID}`),children:s.jsx("img",{src:g,alt:""})}),s.jsx("div",{className:"UserResponses",style:JSON.stringify(a.data.subData.response).length>4?{fontSize:"1em "}:{},children:a.data.subData.response})]})]},c))]}):s.jsx(s.Fragment,{children:s.jsxs("div",{className:"NoformYetMade",children:[s.jsx("h1",{children:"Please build a form first!!"}),s.jsx("h2",{children:"Go to the build page to build a form."})]})})})}export{D as default};
