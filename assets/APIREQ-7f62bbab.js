const u=async a=>{const{setFormRes:t,setAllFormRes:e,setLoading:c,globalToken:r,form_id:o,page:s,state:i}=a;c(!0);const d=`https://busy-cyan-catfish-tam.cyclic.app/formSub/${r}/${o}`,n=await(await fetch(d)).json();t&&t(n.data[n.data.length-1]),s!="INDIVIDUAL_RES"&&e(n.data),s=="FORMRESPONSES"&&n.map(f=>{f.sub.data.userFormId==o&&t&&t(f)}),s=="INDIVIDUAL_RES"&&n.data.map(f=>{f.sub.data.formEmail==i.personal_email&&e(f)}),c(!1)},m=async a=>{const{setLoading:t,setuserData:e,globalToken:c,form_id:r,setFormData:o,page:s}=a;t(!0);const i=`https://busy-cyan-catfish-tam.cyclic.app/data/${c}`,h=await(await fetch(i)).json();e(h),s=="FORMRESPONSES"&&r!=null&&h.map(n=>{n.data.subData.formData.formUID==r&&o&&o(n.data.subData)}),t(!1)},D=async(a,t)=>{try{fetch(`https://busy-cyan-catfish-tam.cyclic.app/indRes/${a}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userID:t,formID:a,chartData:[{date:`${new Date().getDate()}-${new Date().getMonth()+1}-${new Date().getFullYear()}`,res:0}]})}).then(e=>e.json()).then(e=>{console.log(e)})}catch(e){console.log("Error : ",e)}};let l=new Date;const y=a=>{const{allData:t,formID:e,globalToken:c,date:r,heading:o,desc:s,nav:i}=a,h={subData:{userUID:c,formData:{formDataArray:t,formUID:e},formExpiryData:r,response:0,createdOn:`${l.getDate()+"/"+(l.getMonth()+1)+"/"+l.getFullYear()}`,formQuestion:{question:o,description:s}}};fetch(`https://busy-cyan-catfish-tam.cyclic.app/build/${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:h})}).then(n=>n.json()).then(n=>{n&&i("/user")})},p=a=>{fetch(`https://busy-cyan-catfish-tam.cyclic.app/getbuild/${a}`,{method:"PATCH",headers:{"Content-Type":"application/json"}}).then(t=>t.json()).then(()=>{})},b=a=>{fetch(`https://busy-cyan-catfish-tam.cyclic.app/indRes/${a}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:`${new Date().getDate()}-${new Date().getMonth()+1}-${new Date().getFullYear()}`})}).then(t=>t.json()).then(t=>{console.log(t)})},g=async(a,t)=>{let e=`https://busy-cyan-catfish-tam.cyclic.app/indRes/${a}`,o=await(await fetch(e)).json();if(o[0].chartData.length>0)for(let s=0;s<o[0].chartData.length;s++){let i=o[0].chartData[s].date.split("-"),d=i[0],h=i[1],n=`${d}-${h}`;o[0].chartData[s].date=n}t(o[0].chartData)},$=a=>{var t,e,c,r,o,s;fetch(`https://busy-cyan-catfish-tam.cyclic.app/formSub/${a.ac_id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sub:{data:{formEmail:a.email,formQuestion:(c=(e=(t=a.userData)==null?void 0:t.data)==null?void 0:e.subData)==null?void 0:c.formQuestion,formSub:(s=(o=(r=a.userData.data)==null?void 0:r.subData)==null?void 0:o.formData)==null?void 0:s.formDataArray,userFormAc:a.ac_id,userFormId:a.form_id,creationDate:`${l.getDate()+"/"+(l.getMonth()+1)+"/"+l.getFullYear()}`,creationTime:`${l.getHours()+":"+l.getMinutes()+":"+l.getSeconds()}`}}})}).then(i=>i.json()).then(i=>{console.log(i)})},S=async a=>{let{globalToken:t,form_id:e,setFormRes:c}=a;const r=`https://busy-cyan-catfish-tam.cyclic.app/formSub/${t}/${e}`,s=await(await fetch(r)).json();c(s.data)},j=async a=>{let{userDataPre:t,setLoading:e,ac_id:c,form_id:r,setuserDataPre:o,setuserData:s}=a;if(t){e(!0);const i=`https://busy-cyan-catfish-tam.cyclic.app/data/${c}`;(await(await fetch(i)).json()).map(n=>{n.data.subData.formData.formUID==r&&(o(n),s(n))}),e(!1)}else s(t)};export{j as a,D as b,S as c,$ as d,b as e,m as f,u as g,g as h,y as p,p as u};
