const D=async t=>{const{setFormRes:a,setAllFormRes:e,setLoading:o,globalToken:r,form_id:i,page:c,state:s}=t;o(!0);const l=`https://busy-cyan-catfish-tam.cyclic.app/formSub/${r}/${i}`,n=await(await fetch(l)).json();a&&a(n.data[n.data.length-1]),c!="INDIVIDUAL_RES"&&e(n.data),c=="FORMRESPONSES"&&n.map(f=>{f.sub.data.userFormId==i&&a&&a(f)}),c=="INDIVIDUAL_RES"&&n.data.map(f=>{f.sub.data.formEmail==s.personal_email&&e(f)}),o(!1)},m=async t=>{const{setLoading:a,setuserData:e,globalToken:o,form_id:r,setFormData:i,page:c}=t;a(!0);const s=`https://busy-cyan-catfish-tam.cyclic.app/data/${o}`,h=await(await fetch(s)).json();e(h),c=="FORMRESPONSES"&&r!=null&&h.map(n=>{n.data.subData.formData.formUID==r&&i&&i(n.data.subData)}),a(!1)},p=async(t,a)=>{try{fetch(`https://busy-cyan-catfish-tam.cyclic.app/indRes/${t}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userID:a,formID:t,chartData:[{date:`${new Date().getDate()}-${new Date().getMonth()+1}-${new Date().getFullYear()}`,res:0}]})}).then(e=>e.json()).then(e=>{console.log(e)})}catch(e){console.log("Error : ",e)}};let d=new Date;const y=t=>{const{allData:a,formID:e,globalToken:o,date:r,heading:i,desc:c,nav:s}=t,h={subData:{userUID:o,formData:{formDataArray:a,formUID:e},formExpiryData:r,response:0,createdOn:`${d.getDate()+"/"+(d.getMonth()+1)+"/"+d.getFullYear()}`,formQuestion:{question:i,description:c}}};fetch(`https://busy-cyan-catfish-tam.cyclic.app/build/${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:h})}).then(n=>n.json()).then(n=>{n&&s("/user")})},g=t=>{fetch(`https://busy-cyan-catfish-tam.cyclic.app/getbuild/${t}`,{method:"PATCH",headers:{"Content-Type":"application/json"}}).then(a=>a.json()).then(()=>{})},b=t=>{fetch(`https://busy-cyan-catfish-tam.cyclic.app/indRes/${t}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:`${new Date().getDate()}-${new Date().getMonth()+1}-${new Date().getFullYear()}`})}).then(a=>a.json()).then(a=>{console.log(a)})},$=async(t,a,e)=>{let o=[],r=`https://busy-cyan-catfish-tam.cyclic.app/indRes/${t}`,s=await(await fetch(r)).json();if(s[0].chartData.length>0)for(let l=0;l<s[0].chartData.length;l++){let h=s[0].chartData[l].date.split("-"),n=h[0],f=h[1],u=`${n}-${f}`;s[0].chartData[l].date=u}if(e(s[0].chartData),s[0].chartData.length<7&&a(s[0].chartData),s[0].chartData.length>7){for(let l=s[0].chartData.length-7;l<s[0].chartData.length;l++)o.push(s[0].chartData[l]);a(o)}},S=t=>{var a,e,o,r,i,c;fetch(`https://busy-cyan-catfish-tam.cyclic.app/formSub/${t.ac_id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sub:{data:{formEmail:t.email,formQuestion:(o=(e=(a=t.userData)==null?void 0:a.data)==null?void 0:e.subData)==null?void 0:o.formQuestion,formSub:(c=(i=(r=t.userData.data)==null?void 0:r.subData)==null?void 0:i.formData)==null?void 0:c.formDataArray,userFormAc:t.ac_id,userFormId:t.form_id,creationDate:`${d.getDate()+"/"+(d.getMonth()+1)+"/"+d.getFullYear()}`,creationTime:`${d.getHours()+":"+d.getMinutes()+":"+d.getSeconds()}`}}})}).then(s=>s.json()).then(s=>{console.log(s)})},j=async t=>{let{globalToken:a,form_id:e,setFormRes:o}=t;const r=`https://busy-cyan-catfish-tam.cyclic.app/formSub/${a}/${e}`,c=await(await fetch(r)).json();o(c.data)},w=async t=>{let{userDataPre:a,setLoading:e,ac_id:o,form_id:r,setuserDataPre:i,setuserData:c}=t;if(a){e(!0);const s=`https://busy-cyan-catfish-tam.cyclic.app/data/${o}`;(await(await fetch(s)).json()).map(n=>{n.data.subData.formData.formUID==r&&(i(n),c(n))}),e(!1)}else c(a)};export{w as a,p as b,j as c,S as d,b as e,m as f,D as g,$ as h,y as p,g as u};
