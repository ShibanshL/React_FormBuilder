import{r as t,u as j,a as M,j as e,L as b}from"./index-90020666.js";import{H as D}from"./hyperLink-83ebcbdc.js";import{f as N}from"./APIREQ-8aa8e91c.js";const U="/React_FormBuilder/assets/Statistics-23a6a5b5.svg";function S(){const o=window.localStorage.getItem("token"),[l,c]=t.useState([]),m=j(s=>s.setPage),[a,n]=t.useState({name:"",val:!1}),[u,f]=t.useState({x:0,y:0}),[h,p]=t.useState(!1),i=s=>{f({x:v(s),y:s.clientY+10})},v=s=>a.name=="HyperLink"?s.clientX+10:a.name=="UserResponses"?s.clientX-215:a.name=="UserGraphs"?s.clientX-320:a.name=="CongratulationBadge"?s.clientX-300:s.clientX+10,g=()=>{if(a.name=="HyperLink")return"Link to your form.";if(a.name=="UserResponses")return"Number of responses";if(a.name=="UserGraphs")return"Link to form Responses Dashboard";if(a.name=="CongratulationBadge")return"No of responses recently added."};let d=M();return t.useEffect(()=>{o||d("/")},[]),t.useEffect(()=>{m("USER")},[]),t.useEffect(()=>{N({setuserData:c,setLoading:p,globalToken:o})},[o]),h?e.jsx(e.Fragment,{children:e.jsx("div",{className:"Loading",children:e.jsx("h1",{children:"Loading..."})})}):e.jsxs(e.Fragment,{children:[l.length>0?e.jsxs("div",{className:"AppUser",children:[e.jsxs("div",{className:"AppUserTabs",children:[e.jsx("h2",{children:"Responses"}),e.jsxs("label",{children:[l.length," / 4"]})]}),l.map((s,x)=>e.jsxs("div",{className:"AppUserForms",children:[e.jsxs("div",{className:"UserLinks",children:[e.jsx("div",{className:"HyperLink",onMouseOver:()=>n({name:"HyperLink",val:!0}),onMouseOut:()=>n({name:"",val:!1}),onMouseMove:r=>a.name&&i(r),children:e.jsx(b,{to:`/form/${o}/${s.data.subData.formData.formUID}`,target:"_blank",children:e.jsx("img",{src:D,alt:""})})}),e.jsx("h2",{children:s.data.subData.formQuestion.question.length>100?s.data.subData.formQuestion.question.substring(0,100)+"...":s.data.subData.formQuestion.question})]}),e.jsxs("div",{className:"userData",children:[s.data.subData.response>0?e.jsx("div",{className:"CongratulationBadge",onMouseOver:()=>n({name:"CongratulationBadge",val:!0}),onMouseOut:()=>n({name:"",val:!1}),onMouseMove:r=>a.name&&i(r),children:e.jsx("p",{children:s.data.subData.response>10?"10+":"+1"})}):null,e.jsx("div",{className:"UserGraphs",onMouseOver:()=>n({name:"UserGraphs",val:!0}),onMouseOut:()=>n({name:"",val:!1}),onMouseMove:r=>a.name&&i(r),onClick:()=>d(`/response/${s.data.subData.formData.formUID}`),children:e.jsx("img",{src:U,alt:""})}),e.jsx("div",{className:"UserResponses",onMouseOver:()=>n({name:"UserResponses",val:!0}),onMouseOut:()=>n({name:"",val:!1}),onMouseMove:i,style:JSON.stringify(s.data.subData.response).length>4?{fontSize:"1em "}:{},children:s.data.subData.response})]})]},x))]}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"NoformYetMade",children:[e.jsx("h1",{children:"Please build a form first!!"}),e.jsx("h2",{children:"Go to the build page to build a form."})]})}),a.val&&e.jsx("div",{className:"modal",style:{left:`${u.x}px`,top:`${u.y}px`},children:g()})]})}export{S as default};
