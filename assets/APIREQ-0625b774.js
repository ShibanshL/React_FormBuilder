const h=async a=>{const{setFormRes:t,setAllFormRes:e,setLoading:r,globalToken:c,form_id:o,page:s,state:i}=a;r(!0);const f=`${{}.VITE_REACT_APP_APIURL}/formSub/${c}/${o}`,n=await(await fetch(f)).json();t&&t(n.data[n.data.length-1]),s!="INDIVIDUAL_RES"&&e(n.data),s=="FORMRESPONSES"&&n.map(D=>{D.sub.data.userFormId==o&&t&&t(D)}),s=="INDIVIDUAL_RES"&&n.data.map(D=>{D.sub.data.formEmail==i.personal_email&&e(D)}),r(!1)},u=async a=>{const{setLoading:t,setuserData:e,globalToken:r,form_id:c,setFormData:o,page:s}=a;t(!0);const i=`${{}.VITE_REACT_APP_APIURL}/data/${r}`,d=await(await fetch(i)).json();e(d),s=="FORMRESPONSES"&&c!=null&&d.map(n=>{n.data.subData.formData.formUID==c&&o&&o(n.data.subData)}),t(!1)},m=async(a,t)=>{try{fetch(`${{}.VITE_REACT_APP_APIURL}/indRes/${a}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userID:t,formID:a,chartData:[{date:`${new Date().getDate()}-${new Date().getMonth()+1}-${new Date().getFullYear()}`,res:0}]})}).then(e=>e.json()).then(e=>{console.log(e)})}catch(e){console.log("Error : ",e)}};let l=new Date;const _=a=>{const{allData:t,formID:e,globalToken:r,date:c,heading:o,desc:s,nav:i}=a,d={subData:{userUID:r,formData:{formDataArray:t,formUID:e},formExpiryData:c,response:0,createdOn:`${l.getDate()+"/"+(l.getMonth()+1)+"/"+l.getFullYear()}`,formQuestion:{question:o,description:s}}};fetch(`${{}.VITE_REACT_APP_APIURL}/build/${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:d})}).then(n=>n.json()).then(n=>{n&&i("/user")})},P=a=>{fetch(`${{}.VITE_REACT_APP_APIURL}/getbuild/${a}`,{method:"PATCH",headers:{"Content-Type":"application/json"}}).then(t=>t.json()).then(()=>{})},g=a=>{fetch(`${{}.VITE_REACT_APP_APIURL}/indRes/${a}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:`${new Date().getDate()}-${new Date().getMonth()+1}-${new Date().getFullYear()}`})}).then(t=>t.json()).then(t=>{console.log(t)})},A=async(a,t)=>{let e=`${{}.VITE_REACT_APP_APIURL}/indRes/${a}`,o=await(await fetch(e)).json();if(o[0].chartData.length>0)for(let s=0;s<o[0].chartData.length;s++){let i=o[0].chartData[s].date.split("-"),f=i[0],d=i[1],n=`${f}-${d}`;o[0].chartData[s].date=n}t(o[0].chartData)},T=a=>{var t,e,r,c,o,s;fetch(`${{}.VITE_REACT_APP_APIURL}/formSub/${a.ac_id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sub:{data:{formEmail:a.email,formQuestion:(r=(e=(t=a.userData)==null?void 0:t.data)==null?void 0:e.subData)==null?void 0:r.formQuestion,formSub:(s=(o=(c=a.userData.data)==null?void 0:c.subData)==null?void 0:o.formData)==null?void 0:s.formDataArray,userFormAc:a.ac_id,userFormId:a.form_id,creationDate:`${l.getDate()+"/"+(l.getMonth()+1)+"/"+l.getFullYear()}`,creationTime:`${l.getHours()+":"+l.getMinutes()+":"+l.getSeconds()}`}}})}).then(i=>i.json()).then(i=>{console.log(i)})},R=async a=>{let{globalToken:t,form_id:e,setFormRes:r}=a;const c=`${{}.VITE_REACT_APP_APIURL}/formSub/${t}/${e}`,s=await(await fetch(c)).json();r(s.data)},I=async a=>{let{userDataPre:t,setLoading:e,ac_id:r,form_id:c,setuserDataPre:o,setuserData:s}=a;if(t){e(!0);const i=`${{}.VITE_REACT_APP_APIURL}/data/${r}`;(await(await fetch(i)).json()).map(n=>{n.data.subData.formData.formUID==c&&(o(n),s(n))}),e(!1)}else s(t)};export{I as a,m as b,R as c,T as d,g as e,u as f,h as g,A as h,_ as p,P as u};
