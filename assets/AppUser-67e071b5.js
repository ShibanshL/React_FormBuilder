import{r as n,u as j,a as M,j as e,L as b}from"./index-980ec48f.js";import{H as N}from"./hyperLink-83ebcbdc.js";import{f as y}from"./APIREQ-8aa8e91c.js";const D="/React_FormBuilder/assets/Statistics-23a6a5b5.svg";function S(){const r=window.localStorage.getItem("token"),[l,d]=n.useState([]),m=j(s=>s.setPage),[a,t]=n.useState({name:"",val:!1}),[u,f]=n.useState({x:0,y:0}),[h,p]=n.useState(!1),i=s=>{f({x:g(s),y:s.clientY+10})},g=s=>a.name=="HyperLink"?s.clientX+10:a.name=="UserResponses"?s.clientX-215:a.name=="UserGraphs"?s.clientX-320:a.name=="CongratulationBadge"?s.clientX-300:s.clientX+10,v=()=>{if(a.name=="HyperLink")return"Link to your form.";if(a.name=="UserResponses")return"Number of responses";if(a.name=="UserGraphs")return"Link to form Responses Dashboard";if(a.name=="CongratulationBadge")return"No of responses recently added."};let c=M();return n.useEffect(()=>{r||c("/")},[]),n.useEffect(()=>{m("USER")},[]),n.useEffect(()=>{y({setuserData:d,setLoading:p,globalToken:r})},[r]),h?e.jsx(e.Fragment,{children:e.jsx("div",{className:"Loading",children:e.jsx("h1",{children:"Loading..."})})}):e.jsxs(e.Fragment,{children:[l.length>0?e.jsxs("div",{className:"AppUser",children:[e.jsxs("div",{className:"AppUserTabs",children:[e.jsx("h2",{style:{color:"white",fontWeight:500},children:"Responses"}),e.jsxs("label",{style:{color:"white",fontWeight:500},children:[l.length," / 4"]})]}),l.map((s,x)=>e.jsxs("div",{className:"AppUserForms",children:[e.jsxs("div",{className:"UserLinks",children:[e.jsx("div",{className:"HyperLink",onMouseOver:()=>t({name:"HyperLink",val:!0}),onMouseOut:()=>t({name:"",val:!1}),onMouseMove:o=>a.name&&i(o),children:e.jsx(b,{to:`/form/${r}/${s.data.subData.formData.formUID}`,target:"_blank",children:e.jsx("img",{src:N,alt:""})})}),e.jsx("h2",{style:{color:"white",fontWeight:500},children:s.data.subData.formQuestion.question.length>100?s.data.subData.formQuestion.question.substring(0,100)+"...":s.data.subData.formQuestion.question})]}),e.jsxs("div",{className:"userData",children:[s.data.subData.response>0?e.jsx("div",{className:"CongratulationBadge",onMouseOver:()=>t({name:"CongratulationBadge",val:!0}),onMouseOut:()=>t({name:"",val:!1}),onMouseMove:o=>a.name&&i(o),children:e.jsx("p",{children:s.data.subData.response>10?"10+":"+1"})}):null,e.jsx("div",{className:"UserGraphs",onMouseOver:()=>t({name:"UserGraphs",val:!0}),onMouseOut:()=>t({name:"",val:!1}),onMouseMove:o=>a.name&&i(o),onClick:()=>c(`/response/${s.data.subData.formData.formUID}`),children:e.jsx("img",{src:D,alt:""})}),e.jsx("div",{className:"UserResponses",onMouseOver:()=>t({name:"UserResponses",val:!0}),onMouseOut:()=>t({name:"",val:!1}),onMouseMove:i,style:JSON.stringify(s.data.subData.response).length>4?{fontSize:"1em "}:{},children:s.data.subData.response})]})]},x))]}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"NoformYetMade",children:e.jsxs("div",{className:"NoformYetMade_Card",children:[e.jsx("h1",{style:{color:"white",fontWeight:500},children:"Please build a form first!!"}),e.jsx("h2",{style:{color:"white",fontWeight:500},children:"Go to the build page to build a form."})]})})}),a.val&&e.jsx("div",{className:"modal",style:{left:`${u.x}px`,top:`${u.y}px`},children:v()})]})}export{S as default};
