import{a as m,d as h,u as p,r as a,j as s}from"./index-980ec48f.js";import{H as x}from"./hyperLink-83ebcbdc.js";import{g as f}from"./APIREQ-8aa8e91c.js";import{L as u}from"./LeftIcon-5de4723c.js";function N(){const t=m(),i=window.localStorage.getItem("token");let{form_id:r}=h();const l=p(e=>e.setPage),[n,o]=a.useState([]),[c,d]=a.useState(!1);return a.useEffect(()=>{f({setLoading:d,setAllFormRes:o,globalToken:i,form_id:r})},[i]),a.useEffect(()=>{i||t("/")},[]),a.useEffect(()=>{l("EMAIL")},[]),c?s.jsx(s.Fragment,{children:s.jsx("div",{className:"Loading",children:s.jsx("h1",{children:"Loading..."})})}):s.jsx(s.Fragment,{children:s.jsxs("div",{className:"AppListMails",children:[s.jsxs("div",{className:"AppListMails_TopBar",children:[s.jsx("div",{className:"AllFormButton",children:s.jsx("button",{onClick:()=>t(`/response/${r}`),children:s.jsx("img",{src:u,alt:""})})}),s.jsx("h2",{children:"Go back to Form Responses"})]}),n.length!=0?n.map(e=>s.jsxs("div",{className:"AppListMailtabs",children:[s.jsxs("div",{className:"AppListLeftSec",children:[s.jsx("div",{className:"HyperLink",onClick:()=>t(`/individual/${r}`,{state:{personal_email:e.sub.data.formEmail}}),children:s.jsx("img",{src:x})}),s.jsx("h2",{children:e.sub.data.formEmail.length>25?e.sub.data.formEmail.substring(0,25)+"...":e.sub.data.formEmail})]}),s.jsx("div",{className:"AppListRightSec",children:s.jsx("div",{className:"DateBadge",children:s.jsx("p",{children:e.sub.data.creationDate})})})]})):s.jsx(s.Fragment,{children:s.jsx("div",{className:"Loading",children:s.jsx("h1",{children:"Sorry, noone has responded to the form yet!"})})})]})})}export{N as default};
